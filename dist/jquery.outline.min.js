/*! jquery-fracs v0.16.0 - https://larsjung.de/jquery-fracs/ */
"use strict";!function(){var C=window,D=C.jQuery,W=D(C),x=D.extend,t=D.fracs,F=t.Rect,P=t.Viewport,V={crop:!1,duration:0,focusWidth:.5,focusHeight:.5,autoFocus:!0,styles:[{selector:"header,footer,section,article",fillStyle:"rgb(230,230,230)"},{selector:"h1,h2,h3,h4",fillStyle:"rgb(255,144,55)"}],viewportStyle:{fillStyle:"rgba(255,144,55,0.3)"},viewportDragStyle:{fillStyle:"rgba(255,144,55,0.5)"},invertViewport:!1};function i(r,t,e){if(!r||!D.isFunction(r.getContext))return null;var n=r.getContext("2d");if(!n)return null;e=e||C;var s,h,l,c,a,u=x({},V,t),o=D(r),i=o.attr("width"),f=o.attr("height"),d=D(e),g=new P(e),p=e===C?function(t){return D(t)}:function(t){return d.find(t)},w=!1,v=function(t,e,o,i,r){t&&(o||i)&&(i&&(n.beginPath(),r?(n.rect(0,0,s.width,t.top),n.rect(0,t.top,t.left,t.height),n.rect(t.right,t.top,s.width-t.right,t.height),n.rect(0,t.bottom,s.width,s.height-t.bottom)):n.rect(t.left,t.top,t.width,t.height),n.fillStyle=i,n.fill()),o&&(n.beginPath(),n.rect(t.left,t.top,t.width,t.height),n.lineWidth=l?Math.max(e,.2/l):e,n.strokeStyle=o,n.stroke()))},y=function(){D.each(u.styles,function(t,e){p(e.selector).each(function(){!function(t,e,o,i){var r=D(t),n=F.ofElement(t);!n||n.width<=0||n.height<=0||"hidden"===r.css("visibility")||(n=n.relativeTo(s),e="auto"===e?parseInt(r.css("border-top-width"),10):e,o="auto"===o?r.css("border-top-color"):o,i="auto"===i?r.css("background-color"):i,v(n,e,o,i))}(this,e.strokeWidth,e.strokeStyle,e.fillStyle)})})},m=function(){s=F.ofContent(e),h=F.ofViewport(e,!0),l=Math.min(i/s.width,f/s.height),u.crop&&o.attr("width",s.width*l).attr("height",s.height*l),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,o.width(),o.height()),n.scale(l,l),y(),function(){var t=w&&u.viewportDragStyle?u.viewportDragStyle:u.viewportStyle;v(h,t.strokeWidth,t.strokeStyle,t.fillStyle,u.invertViewport)}()},S=function(t){var e=F.ofElement(r),o=(t.pageX-e.left)/l-h.width*c,i=(t.pageY-e.top)/l-h.height*a;g.scrollTo(o,i,u.duration)},b=function(t){w=!1,t.preventDefault(),o.css("cursor","pointer").removeClass("dragOn"),D("body").css("cursor","auto"),W.off("mousemove",S),m()},k=function(t){if(u.autoFocus){var e=F.ofElement(r);c=((t.pageX-e.left)/l-h.left)/h.width,a=((t.pageY-e.top)/l-h.top)/h.height}(!u.autoFocus||c<0||1<c||a<0||1<a)&&(c=u.focusWidth,a=u.focusHeight),w=!0,t.preventDefault(),o.css("cursor","crosshair").addClass("dragOn"),D("body").css("cursor","crosshair"),W.on("mousemove",S).one("mouseup",b),S(t)};o.css("cursor","pointer").mousedown(k),d.on("load resize scroll",m),m(),this.redraw=m}var r="fracs.outline";t.modplug({statics:{Outline:i},methods:{outline:function(t,e,o){return console.log("YIPPU"),"string"!=typeof t&&(o=e,e=t,t=null),o instanceof D&&(o=o[0]),"redraw"===t?this.each(function(){var t=D(this).data(r);t&&t.redraw()}):this.each(function(){var t=D(this).data(r);t||(t=new i(this,e,o))&&D(this).data(r,t)})}}})}();